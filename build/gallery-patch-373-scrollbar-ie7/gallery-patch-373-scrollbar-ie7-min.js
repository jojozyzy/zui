YUI.add("gallery-patch-373-scrollbar-ie7",function(e,t){e.Plugin.ScrollViewScrollbars.prototype._updateBar=function(e,t,n,r){var i=this._host,s=this._basic,o=0,u=1,a=e.getData(CHILD_CACHE),f=a.lc,l=a.mc,c=a.fcSize,h=a.lcSize,p,d,v,m,g,y,b,w,E,S;r?(y=WIDTH,b=LEFT,w=HORIZ_CACHE,E=this._dims.offsetWidth,S=this._dims.scrollWidth,m=TRANSLATE_X,g=SCALE_X,t=t!==undefined?t:i.get(SCROLL_X)):(y=HEIGHT,b=TOP,w=VERT_CACHE,E=this._dims.offsetHeight,S=this._dims.scrollHeight,m=TRANSLATE_Y,g=SCALE_Y,t=t!==undefined?t:i.get(SCROLL_Y)),o=Math.floor(E*(E/S)),u=Math.floor(t/(S-E)*(E-o)),o>E&&(o=1),u>E-o?o-=u-(E-o):u<0?(o=u+o,u=0):isNaN(u)&&(u=0),p=o-(c+h),p<0&&(p=0),p===0&&u!==0&&(u=E-(c+h)-1),n!==0?(v={duration:n},NATIVE_TRANSITIONS?v.transform=m+u+PX_CLOSE:v[b]=u+PX,e.transition(v)):NATIVE_TRANSITIONS?e.setStyle(TRANSFORM,m+u+PX_CLOSE):e.setStyle(b,u+PX);if(this[w]!==p){this[w]=p;if(p>0){n!==0?(v={duration:n},NATIVE_TRANSITIONS?v.transform=g+p+CLOSE:v[y]=p+PX,l.transition(v)):NATIVE_TRANSITIONS?l.setStyle(TRANSFORM,g+p+CLOSE):l.setStyle(y,p+PX);if(!r||!s)d=o-h,n!==0?(v={duration:n},NATIVE_TRANSITIONS?v.transform=m+d+PX_CLOSE:v[b]=d,f.transition(v)):NATIVE_TRANSITIONS?f.setStyle(TRANSFORM,m+d+PX_CLOSE):f.setStyle(b,d+PX)}}}},"@VERSION@",{requires:["scrollview"]});
